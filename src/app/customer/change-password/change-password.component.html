<app-customer-header></app-customer-header>
<!-- Password Change Form -->
<div class="animated-background">
  <div class="card-header-custom">
    <h2 class="text-center m-0">Reset Password</h2>
  </div>
    
            <!-- Loading Spinner -->
            <div *ngIf="isLoading" class="d-flex flex-column form align-items-center">
              <div class="spinner-border" role="status"></div>
              <p>Loading...</p>
            </div>
            <form class="d-flex flex-column form align-items-center" (ngSubmit)="onSubmit()" #changePasswordForm="ngForm">

                <div class="form-group-custom">
                  <label for="oldPassword">Old Password</label>
                  <div class="input-group">
                    <span class="input-icon">
                      <i class="bi bi-lock"></i>
                    </span>
                    <input type="text" id="pinCode" class="form-control-custom" placeholder="Enter" [(ngModel)]="oldPassword" name="oldPassword" required/>
                  </div>
                </div>
                <div class="form-group-custom">
                  <label for="oldPassword">New Password</label>
                  <div class="input-group">
                    <span class="input-icon">
                      <i class="bi bi-lock"></i>
                    </span>
                    <input type="text" id="pinCode" class="form-control-custom"  placeholder="Enter" [(ngModel)]="newPassword" name="newPassword" required/>
                  </div>
                </div>
                <button type="submit" class="submit-button" [disabled]="!changePasswordForm.form.valid">
                    <span>Change Password</span>
                    <i class="bi bi-arrow-right-circle-fill ms-2"></i>
                </button>
            </form>
      

</div>

<div 
    class="toast-container"
    aria-live="polite"
    aria-atomic="true"
  >
    <div
      id="errorToast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-header">
        <i class="bi bi-info-circle me-2"></i>
        <strong class="me-auto">Message</strong>
        <button 
          type="button"
          class="toast-close"
          (click)="closeToast()"
          aria-label="Close notification"
        >
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="toast-body">
        {{ toastMessage }}
      </div>
    </div>
  </div>
<!-- Add Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">