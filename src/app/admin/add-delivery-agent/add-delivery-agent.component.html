<div class="animated-background">
  <div class="container py-5">
    <div class="glass-card">
      <div class="card-header-custom">
        <h2 class="text-center m-0">Add New Agent Details</h2>
      </div>
      <div class="card-body-custom">
        <form [formGroup]="addAgentForm" (ngSubmit)="submitForm()">
          <div class="row g-4">
            <!-- Left Column -->
            <div class="col-md-6 pe-md-4">
              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-person"></i>
                  </span>
                  <input type="text" id="userName" class="form-control-custom" 
                    formControlName="userName" placeholder="Username" />
                </div>
                <div *ngIf="addAgentForm.controls['userName'].invalid && addAgentForm.controls['userName'].touched" 
                  class="error-message">
                  Username must be at least 3 characters long.
                </div>
              </div>

              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-person-badge"></i>
                  </span>
                  <input type="text" id="agentName" class="form-control-custom" 
                    formControlName="agentName" placeholder="Agent Name" />
                </div>
                <div *ngIf="addAgentForm.controls['agentName'].invalid && addAgentForm.controls['agentName'].touched" 
                  class="error-message">
                  Agent name is required and should be letters.
                </div>
              </div>

              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-envelope"></i>
                  </span>
                  <input type="email" id="email" class="form-control-custom" 
                    formControlName="email" placeholder="Email" />
                </div>
                <div *ngIf="addAgentForm.controls['email'].invalid && addAgentForm.controls['email'].touched" class="text-danger">
                  A valid email is required.
                </div>
              </div>
            </div>

            <!-- Right Column -->
            <div class="col-md-6 ps-md-4">
              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-lock"></i>
                  </span>
                  <input type="password" id="password" class="form-control-custom" 
                    formControlName="password" placeholder="Password" />
                </div>
                <div *ngIf="addAgentForm.controls['password'].invalid && addAgentForm.controls['password'].touched" class="text-danger">
                  Password must be at least 6 characters long.
                </div>
              </div>

              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-phone"></i>
                  </span>
                  <input type="text" id="contactNumber" class="form-control-custom" 
                    formControlName="contactNumber" placeholder="Contact Number" />
                </div>
                <div *ngIf="addAgentForm.controls['contactNumber'].invalid && addAgentForm.controls['contactNumber'].touched" class="text-danger">
                  A valid 10-digit contact number is required.
                </div>
              </div>

              <div class="form-group-custom">
                <div class="input-group">
                  <span class="input-icon">
                    <i class="bi bi-building"></i>
                  </span>
                  <input type="text" id="city" class="form-control-custom" 
                    formControlName="city" placeholder="City" />
                </div>
                <div *ngIf="addAgentForm.controls['city'].invalid && addAgentForm.controls['city'].touched" class="text-danger">
                  City is required and must contain only letters.
                </div>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="mt-4">
            <button type="submit" class="submit-button" [disabled]="addAgentForm.invalid">
              <span>Add Agent</span>
              <i class="bi bi-arrow-right-circle-fill ms-2"></i>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div *ngIf="isLoading" class="overlay">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<div 
    class="toast-container"
    aria-live="polite"
    aria-atomic="true"
  >
    <div
      id="errorToast"
      class="toast"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-header">
        <i class="bi bi-info-circle me-2"></i>
        <strong class="me-auto">Message</strong>
        <button 
          type="button"
          class="toast-close"
          (click)="closeToast()"
          aria-label="Close notification"
        >
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="toast-body">
        {{ toastMessage }}
      </div>
    </div>
  </div>
<!-- Add Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">